<!DOCTYPE html>
<html>
<head>
    <title>Class Reassignment Tool</title>
</head>
<body>
    <h1>Class Reassignment Tool</h1>
    
    <form id="uploadForm">
        <input type="file" id="csvFile" accept=".csv" required>
        <br>
        <label for="numClasses">Number of Classes:</label>
        <input type="number" id="numClasses" name="numClasses" min="1" required>
        <br>
        <input type="submit" value="Upload and Reassign Classes">
    </form>

    <script>
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            var numClasses = document.getElementById('numClasses').value;
            var file = document.getElementById('csvFile').files[0];
            var reader = new FileReader();

            reader.onload = function(e) {
                var text = e.target.result;
                var data = parseCSV(text);
                // Reassign students to classes based on the input number of classes
                // and the parsed data from the CSV file
                var reassignedClasses = reassignClasses(data, numClasses);
                // Display or process the reassigned classes
            };

            reader.readAsText(file);
        });

        function parseCSV(text) {
            // Parse the CSV data and return an array of objects
        }

        function reassignClasses(data, numClasses) {
            // 학생 데이터를 기반으로 초기 반 편성
            var initialClassAssignments = initialAssignStudents(data, numClasses);
        
            // 이전 반 정보를 고려하여 재배치
            var reassignedClasses = minimizeSameClassStudents(initialClassAssignments, data);
        
            return reassignedClasses;
        }
        
        function initialAssignStudents(data, numClasses) {
            // 데이터를 받아서 초기에 학생들을 임시로 반에 할당하는 로직
            // 남녀 성비 및 기타 기준을 고려
        }
        
        function minimizeSameClassStudents(initialClassAssignments, data) {
            // initialClassAssignments는 초기 반 할당 정보
            // data는 전체 학생 데이터
        
            // 각 학생의 이전 반 정보를 확인하고, 새로운 반에 배치
            // 이전 반과 다른 반에 배치하도록 로직 구현
            // 이 과정에서 반별 학생 수 및 성비를 고려
        }
        
        // 나머지 코드...
    </script>
</body>
</html>
